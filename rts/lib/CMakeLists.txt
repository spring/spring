INCLUDE_DIRECTORIES(BEFORE ${CMAKE_SOURCE_DIR}/rts/System)

ADD_SUBDIRECTORY(lua)

AUX_SOURCE_DIRECTORY(7z 7zfiles)
AUX_SOURCE_DIRECTORY(7z/Archive/7z 7zfiles)
ADD_LIBRARY(7zip STATIC EXCLUDE_FROM_ALL ${7zfiles})
SET_TARGET_PROPERTIES(7zip PROPERTIES COMPILE_FLAGS "${PIC_FLAG}")

FIND_PACKAGE(ZLIB REQUIRED)

ADD_SUBDIRECTORY(oscpack)
ADD_SUBDIRECTORY(gml)

IF (UNIX)
	ADD_LIBRARY(minizip STATIC EXCLUDE_FROM_ALL minizip/unzip minizip/zip minizip/ioapi)
ELSE (UNIX)
	ADD_LIBRARY(minizip STATIC EXCLUDE_FROM_ALL minizip/unzip minizip/zip minizip/iowin32 minizip/ioapi)
ENDIF (UNIX)
TARGET_LINK_LIBRARIES(minizip ${ZLIB_LIBRARY})
SET_TARGET_PROPERTIES(minizip PROPERTIES COMPILE_FLAGS "${PIC_FLAG}")

ADD_SUBDIRECTORY(streflop)
ADD_SUBDIRECTORY(liblobby)
ADD_SUBDIRECTORY(headlessStubs)
